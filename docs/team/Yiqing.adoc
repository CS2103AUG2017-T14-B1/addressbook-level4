= Xu Yiqing - Project Portfolio
ifdef::env-github,env-browser[:outfilesuffix: .adoc]
:imagesDir: ../images
:stylesDir: ../stylesheets

== Project: AddressBook - Level 4
NUS Contact is a command-line based contact-managing application that is especially tailored to the NUS students. Our Contact Book
appreciates the idea of minimalism and pragmatism, hence we have carefully designed our Contact Book and only included those features necessary for a
students to manage his/her contact. We strive to design a professional Contact Book that focuses on managing contact only. +

The user interacts with this application using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 9 kLoC.

*Code contributed*: [https://github.com/CS2103AUG2017-T14-B1/main/blob/master/collated/main/eeching.md[Functional code]]
 [https://github.com/CS2103AUG2017-T14-B1/main/blob/master/collated/test/eeching.md[Test code]]
 [https://github.com/CS2103AUG2017-T14-B1/main/blob/master/collated/unused/eeching.md[Unused code]]

=== Enhancement Added: Managing additional phones

==== External behavior

---
#Start of Extract [from: User Guide]#

include::../UserGuide.adoc[tag=additionalPhoneList]

#End of Extract#

Before adding any additional phone number, the `personalInformationPanel` will only display the primary phone number.
See the image below for illustration.

image::beforeAdd.jpg[width="600"]

To add an additional phone number to the person, we can use PhoneCommand in two different formats.

* **Format 1 : using index to locate target person** `updatePhone INDEX add NUMBER` +
This INDEX is the index of the target person in the Contact Book. A Sample command is illustrated below.

image::addByIndex.jpg[width="600"]

After press `Enter`, the command result will be shown in the `resultDisplay` box as below.

image::addByIndexResult.jpg[width="600"]

The `personalInformationPanel` will also be updated and display this additional phone number as illustrated below.

image::addFirstPhone.jpg[width="600"]

* **Format 2 : using name to locate target person** `updatePhone byName add NUMBER NAME` +
This NAME must be the full name of the target person in the Contact Book. A Sample command is illustrated below.

image::addByName.jpg[width="600"]

After press `Enter`, the command result will be shown in the `resultDisplay` box as below.

image::addByNameResult.jpg[width="600"]

The `personalInformationPanel` will also be updated and display this additional phone number as illustrated below.

image::afterAdd.jpg[width="600"]

* ** Note :** if the user try to add an existing phone number to the additional phone list again, an error message will be shown.

image::duplicatePhone.jpg[width="600"]

To remove an additional phone number to the person, PhoneCommand also support two different formats.

* **Format 1 : using index to locate target person** `updatePhone INDEX remove NUMBER` +
This INDEX is the index of the target person in the Contact Book. A Sample command is illustrated below.

image::removeByIndex.jpg[width="600"]

After press `Enter`, the command result will be shown in the `resultDisplay` box as below.

image::removeByIndexResult.jpg[width="600"]

The `personalInformationPanel` will also be updated and remove this additional phone number.

* **Format 2 : using name to locate target person** `updatePhone byName remove NUMBER NAME` +
This NAME must be the full name of the target person in the Contact Book. A Sample command is illustrated below.

image::removeByName.jpg[width="600"]

After press `Enter`, the command result will be shown in the `resultDisplay` box as below.

image::removeByNameResult.jpg[width="600"]

The `personalInformationPanel` will also be updated and remove this additional phone number as illustrated below.

image::afterDelete.jpg[width="600"]

* ** Note :** if the user try to remove a phone number that does not exist in the additional phone list, an error message will be shown.

image::phoneNotFound.jpg[width="600"]


---

==== Justification

NUS has a large proportion of international students and they may have to save multiple phone numbers.
This additional phone list allows them to save all the contact numbers, local or overseas.

==== Implementation

---
#Start of Extract [from: Developer Guide]#

include::../DeveloperGuide.adoc[tag=additionalPhoneList]

#End of Extract#

===== Model

`UniquePhoneList` Classes are created for each person to store the person's additional phone numbers.
A person has a primary phone number and a list of additional numbers.
Primary phone number and additional numbers are stored separately.
Primary number is saved directly as an attribute in Person while additional numbers are save in the `UniquePhoneList`.
`UniquePhoneList` is a list of `Phone` object. It can be empty if the person does not have additional numbers.
Primary phone number must not be null.


image::UniquePhoneListClassDiagram.JPG[width="800"]


===== Logic
`PhoneCommand` is created to add/remove additional phone numbers.

We support two different formats for a user to call `PhoneCommand`. They can choose to use whichever format that is more convenient for them.

**Format 1: using index of the person** +
The command will be `updatePhone INDEX [ACTION] [PHONE_NUMBER]`. The `INDEX` here will be the index of the person in the Contact Book.
`[ACTION]` will be either `add` or `remove`.
* Example: `updatePhone 1 add 83060774`. As such, the additional phone number will be added to the UniquePhoneList of the first person
in the Contact Book if it does not cause duplicate phone numbers.

**Format 2: using name of the person** +
The command will be `updatePhone byName [ACTION] [PHONE_NUMBER] [NAME]`. The `INDEX` here will be the index of the person in the Contact Book.
`[ACTION]` will be either `add` or `remove`. [NAME] has to be the full name which is saved to the Contact Book before.
* Example: `updatePhone byName add 83060774 Alex Yeo`. As such, the additional phone number will be added to the UniquePhoneList of Alex Yeo if it does not cause duplicate phone numbers.

We first use `PhoneCommandParser` to parse the input String command and we use two overloaded constructors to construct a `PhoneCommand` object for each format.

For `add`, we will add the phone to the uniquePhoneList and check for duplicate.

For `remove`, we will loop through the uniquePhoneList and remove this phone and check for NoPhoneFoundException.

**Sequence Diagram**

image::PhoneCommandSequenceDiagram.JPG[width="800"]

---

=== Enhancement added: weather forecast window

---
#Start of Extract [from: User Guide]#

include::../UserGuide.adoc[tag=weatherWindow]

#End of Extract#

---

=== Other contributions

* Updated the GUI and change the layout(Pull requests https://github.com/CS2103AUG2017-T14-B1/main/pull/61[#61])
* Wrote additional tests for phone command
[https://github.com/CS2103AUG2017-T14-B1/main/blob/master/collated/test/eeching.md[PhoneCommandTest]]


